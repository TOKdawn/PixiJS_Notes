(function () {
'use strict';

var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var BoundingBox = /** @class */ (function (_super) {
    __extends(BoundingBox, _super);
    function BoundingBox() {
        var _this = _super.call(this) || this;
        _this._helpPointA = new PIXI.Point();
        _this._helpPointB = new PIXI.Point();
        _this._helpPointC = new PIXI.Point();
        _this._resources.push("resource/mecha_2903/mecha_2903_ske.json", "resource/mecha_2903/mecha_2903_tex.json", "resource/mecha_2903/mecha_2903_tex.png", "resource/bounding_box_tester/bounding_box_tester_ske.json", "resource/bounding_box_tester/bounding_box_tester_tex.json", "resource/bounding_box_tester/bounding_box_tester_tex.png");
        return _this;
    }
    BoundingBox.prototype._onStart = function () {
        //
        PIXI.ticker.shared.add(this._enterFrameHandler, this);
        //
        var factory = dragonBones.PixiFactory.factory;
        factory.parseDragonBonesData(this._pixiResources["resource/mecha_2903/mecha_2903_ske.json"].data);
        factory.parseTextureAtlasData(this._pixiResources["resource/mecha_2903/mecha_2903_tex.json"].data, this._pixiResources["resource/mecha_2903/mecha_2903_tex.png"].texture);
        factory.parseDragonBonesData(this._pixiResources["resource/bounding_box_tester/bounding_box_tester_ske.json"].data);
        factory.parseTextureAtlasData(this._pixiResources["resource/bounding_box_tester/bounding_box_tester_tex.json"].data, this._pixiResources["resource/bounding_box_tester/bounding_box_tester_tex.png"].texture);
        //
        this._armatureDisplay = factory.buildArmatureDisplay("mecha_2903d");
        this._boundingBoxTester = factory.buildArmatureDisplay("tester");
        this._targetA = this._boundingBoxTester.armature.getSlot("target_a").display;
        this._targetB = this._boundingBoxTester.armature.getSlot("target_b").display;
        this._line = this._boundingBoxTester.armature.getBone("line");
        this._pointA = this._boundingBoxTester.armature.getBone("point_a");
        this._pointB = this._boundingBoxTester.armature.getBone("point_b");
        //
        this._armatureDisplay.debugDraw = true;
        this._armatureDisplay.x = 0.0;
        this._armatureDisplay.y = 100.0;
        this._boundingBoxTester.x = 0.0;
        this._boundingBoxTester.y = 200.0;
        this._targetA.armature.inheritAnimation = false;
        this._targetB.armature.inheritAnimation = false;
        this._line.offsetMode = dragonBones.OffsetMode.Override;
        this._pointA.offsetMode = dragonBones.OffsetMode.Override;
        this._pointB.offsetMode = dragonBones.OffsetMode.Override;
        this._armatureDisplay.animation.play("walk");
        this._boundingBoxTester.animation.play("0");
        //
        this.addChild(this._armatureDisplay);
        this.addChild(this._boundingBoxTester);
        //
        this.interactive = true;
        DragHelper.getInstance().stage = this;
        DragHelper.getInstance().enableDrag(this._targetA);
        DragHelper.getInstance().enableDrag(this._targetB);
        //
        this.createText("Touch to drag bounding box tester.");
    };
    BoundingBox.prototype._enterFrameHandler = function (deltaTime) {
        this._helpPointA.set(this._targetA.x, this._targetA.y);
        this._helpPointB.set(this._targetB.x, this._targetB.y);
        this._armatureDisplay.toLocal(this._helpPointA, this._boundingBoxTester, this._helpPointA);
        this._armatureDisplay.toLocal(this._helpPointB, this._boundingBoxTester, this._helpPointB);
        var containsSlotA = this._armatureDisplay.armature.containsPoint(this._helpPointA.x, this._helpPointA.y);
        var containsSlotB = this._armatureDisplay.armature.containsPoint(this._helpPointB.x, this._helpPointB.y);
        var intersectsSlots = this._armatureDisplay.armature.intersectsSegment(this._helpPointA.x, this._helpPointA.y, this._helpPointB.x, this._helpPointB.y, this._helpPointA, this._helpPointB, this._helpPointC);
        {
            var animationName = containsSlotA ? "1" : "0";
            if (this._targetA.animation.lastAnimationName !== animationName) {
                this._targetA.animation.fadeIn(animationName, 0.2).resetToPose = false;
            }
        }
        {
            var animationName = containsSlotB ? "1" : "0";
            if (this._targetB.animation.lastAnimationName !== animationName) {
                this._targetB.animation.fadeIn(animationName, 0.2).resetToPose = false;
            }
        }
        {
            var targetA = this._targetA.armature.parent.parent;
            var targetB = this._targetB.armature.parent.parent;
            var dX = targetB.global.x - targetA.global.x;
            var dY = targetB.global.y - targetA.global.y;
            this._line.offset.x = targetA.global.x;
            this._line.offset.y = targetA.global.y;
            this._line.offset.scaleX = Math.sqrt(dX * dX + dY * dY) / 100.0;
            this._line.offset.rotation = Math.atan2(dY, dX);
            this._line.invalidUpdate();
            var animationName = intersectsSlots ? "1" : "0";
            if (this._boundingBoxTester.animation.lastAnimationName !== animationName) {
                this._boundingBoxTester.animation.fadeIn(animationName, 0.2).resetToPose = false;
            }
            if (intersectsSlots) {
                this._boundingBoxTester.toLocal(this._helpPointA, this._armatureDisplay, this._helpPointA);
                this._boundingBoxTester.toLocal(this._helpPointB, this._armatureDisplay, this._helpPointB);
                this._pointA.visible = true;
                this._pointB.visible = true;
                this._pointA.offset.x = this._helpPointA.x;
                this._pointA.offset.y = this._helpPointA.y;
                this._pointB.offset.x = this._helpPointB.x;
                this._pointB.offset.y = this._helpPointB.y;
                this._pointA.offset.rotation = this._helpPointC.x;
                this._pointB.offset.rotation = this._helpPointC.y;
                this._pointA.invalidUpdate();
                this._pointB.invalidUpdate();
            }
            else {
                this._pointA.visible = false;
                this._pointB.visible = false;
            }
        }
    };
    return BoundingBox;
}(BaseDemo));

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQm91bmRpbmdCb3gudHMiLCJzb3VyY2VzIjpbIkJvdW5kaW5nQm94LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEJvdW5kaW5nQm94IGV4dGVuZHMgQmFzZURlbW8ge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2hlbHBQb2ludEE6IFBJWEkuUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2hlbHBQb2ludEI6IFBJWEkuUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2hlbHBQb2ludEM6IFBJWEkuUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuXG4gICAgcHJpdmF0ZSBfYXJtYXR1cmVEaXNwbGF5OiBkcmFnb25Cb25lcy5QaXhpQXJtYXR1cmVEaXNwbGF5O1xuICAgIHByaXZhdGUgX2JvdW5kaW5nQm94VGVzdGVyOiBkcmFnb25Cb25lcy5QaXhpQXJtYXR1cmVEaXNwbGF5O1xuICAgIHByaXZhdGUgX3RhcmdldEE6IGRyYWdvbkJvbmVzLlBpeGlBcm1hdHVyZURpc3BsYXk7XG4gICAgcHJpdmF0ZSBfdGFyZ2V0QjogZHJhZ29uQm9uZXMuUGl4aUFybWF0dXJlRGlzcGxheTtcbiAgICBwcml2YXRlIF9saW5lOiBkcmFnb25Cb25lcy5Cb25lO1xuICAgIHByaXZhdGUgX3BvaW50QTogZHJhZ29uQm9uZXMuQm9uZTtcbiAgICBwcml2YXRlIF9wb2ludEI6IGRyYWdvbkJvbmVzLkJvbmU7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5fcmVzb3VyY2VzLnB1c2goXG4gICAgICAgICAgICBcInJlc291cmNlL21lY2hhXzI5MDMvbWVjaGFfMjkwM19za2UuanNvblwiLFxuICAgICAgICAgICAgXCJyZXNvdXJjZS9tZWNoYV8yOTAzL21lY2hhXzI5MDNfdGV4Lmpzb25cIixcbiAgICAgICAgICAgIFwicmVzb3VyY2UvbWVjaGFfMjkwMy9tZWNoYV8yOTAzX3RleC5wbmdcIixcbiAgICAgICAgICAgIFwicmVzb3VyY2UvYm91bmRpbmdfYm94X3Rlc3Rlci9ib3VuZGluZ19ib3hfdGVzdGVyX3NrZS5qc29uXCIsXG4gICAgICAgICAgICBcInJlc291cmNlL2JvdW5kaW5nX2JveF90ZXN0ZXIvYm91bmRpbmdfYm94X3Rlc3Rlcl90ZXguanNvblwiLFxuICAgICAgICAgICAgXCJyZXNvdXJjZS9ib3VuZGluZ19ib3hfdGVzdGVyL2JvdW5kaW5nX2JveF90ZXN0ZXJfdGV4LnBuZ1wiXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9vblN0YXJ0KCk6IHZvaWQge1xuICAgICAgICAvL1xuICAgICAgICBQSVhJLnRpY2tlci5zaGFyZWQuYWRkKHRoaXMuX2VudGVyRnJhbWVIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IGRyYWdvbkJvbmVzLlBpeGlGYWN0b3J5LmZhY3Rvcnk7XG4gICAgICAgIGZhY3RvcnkucGFyc2VEcmFnb25Cb25lc0RhdGEodGhpcy5fcGl4aVJlc291cmNlc1tcInJlc291cmNlL21lY2hhXzI5MDMvbWVjaGFfMjkwM19za2UuanNvblwiXS5kYXRhKTtcbiAgICAgICAgZmFjdG9yeS5wYXJzZVRleHR1cmVBdGxhc0RhdGEodGhpcy5fcGl4aVJlc291cmNlc1tcInJlc291cmNlL21lY2hhXzI5MDMvbWVjaGFfMjkwM190ZXguanNvblwiXS5kYXRhLCB0aGlzLl9waXhpUmVzb3VyY2VzW1wicmVzb3VyY2UvbWVjaGFfMjkwMy9tZWNoYV8yOTAzX3RleC5wbmdcIl0udGV4dHVyZSk7XG4gICAgICAgIGZhY3RvcnkucGFyc2VEcmFnb25Cb25lc0RhdGEodGhpcy5fcGl4aVJlc291cmNlc1tcInJlc291cmNlL2JvdW5kaW5nX2JveF90ZXN0ZXIvYm91bmRpbmdfYm94X3Rlc3Rlcl9za2UuanNvblwiXS5kYXRhKTtcbiAgICAgICAgZmFjdG9yeS5wYXJzZVRleHR1cmVBdGxhc0RhdGEodGhpcy5fcGl4aVJlc291cmNlc1tcInJlc291cmNlL2JvdW5kaW5nX2JveF90ZXN0ZXIvYm91bmRpbmdfYm94X3Rlc3Rlcl90ZXguanNvblwiXS5kYXRhLCB0aGlzLl9waXhpUmVzb3VyY2VzW1wicmVzb3VyY2UvYm91bmRpbmdfYm94X3Rlc3Rlci9ib3VuZGluZ19ib3hfdGVzdGVyX3RleC5wbmdcIl0udGV4dHVyZSk7XG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMuX2FybWF0dXJlRGlzcGxheSA9IGZhY3RvcnkuYnVpbGRBcm1hdHVyZURpc3BsYXkoXCJtZWNoYV8yOTAzZFwiKTtcbiAgICAgICAgdGhpcy5fYm91bmRpbmdCb3hUZXN0ZXIgPSBmYWN0b3J5LmJ1aWxkQXJtYXR1cmVEaXNwbGF5KFwidGVzdGVyXCIpO1xuICAgICAgICB0aGlzLl90YXJnZXRBID0gdGhpcy5fYm91bmRpbmdCb3hUZXN0ZXIuYXJtYXR1cmUuZ2V0U2xvdChcInRhcmdldF9hXCIpLmRpc3BsYXk7XG4gICAgICAgIHRoaXMuX3RhcmdldEIgPSB0aGlzLl9ib3VuZGluZ0JveFRlc3Rlci5hcm1hdHVyZS5nZXRTbG90KFwidGFyZ2V0X2JcIikuZGlzcGxheTtcbiAgICAgICAgdGhpcy5fbGluZSA9IHRoaXMuX2JvdW5kaW5nQm94VGVzdGVyLmFybWF0dXJlLmdldEJvbmUoXCJsaW5lXCIpO1xuICAgICAgICB0aGlzLl9wb2ludEEgPSB0aGlzLl9ib3VuZGluZ0JveFRlc3Rlci5hcm1hdHVyZS5nZXRCb25lKFwicG9pbnRfYVwiKTtcbiAgICAgICAgdGhpcy5fcG9pbnRCID0gdGhpcy5fYm91bmRpbmdCb3hUZXN0ZXIuYXJtYXR1cmUuZ2V0Qm9uZShcInBvaW50X2JcIik7XG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMuX2FybWF0dXJlRGlzcGxheS5kZWJ1Z0RyYXcgPSB0cnVlO1xuICAgICAgICB0aGlzLl9hcm1hdHVyZURpc3BsYXkueCA9IDAuMDtcbiAgICAgICAgdGhpcy5fYXJtYXR1cmVEaXNwbGF5LnkgPSAxMDAuMDtcbiAgICAgICAgdGhpcy5fYm91bmRpbmdCb3hUZXN0ZXIueCA9IDAuMDtcbiAgICAgICAgdGhpcy5fYm91bmRpbmdCb3hUZXN0ZXIueSA9IDIwMC4wO1xuICAgICAgICB0aGlzLl90YXJnZXRBLmFybWF0dXJlLmluaGVyaXRBbmltYXRpb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdGFyZ2V0Qi5hcm1hdHVyZS5pbmhlcml0QW5pbWF0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2xpbmUub2Zmc2V0TW9kZSA9IGRyYWdvbkJvbmVzLk9mZnNldE1vZGUuT3ZlcnJpZGU7XG4gICAgICAgIHRoaXMuX3BvaW50QS5vZmZzZXRNb2RlID0gZHJhZ29uQm9uZXMuT2Zmc2V0TW9kZS5PdmVycmlkZTtcbiAgICAgICAgdGhpcy5fcG9pbnRCLm9mZnNldE1vZGUgPSBkcmFnb25Cb25lcy5PZmZzZXRNb2RlLk92ZXJyaWRlO1xuICAgICAgICB0aGlzLl9hcm1hdHVyZURpc3BsYXkuYW5pbWF0aW9uLnBsYXkoXCJ3YWxrXCIpO1xuICAgICAgICB0aGlzLl9ib3VuZGluZ0JveFRlc3Rlci5hbmltYXRpb24ucGxheShcIjBcIik7XG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5fYXJtYXR1cmVEaXNwbGF5KTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9ib3VuZGluZ0JveFRlc3Rlcik7XG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAgICBEcmFnSGVscGVyLmdldEluc3RhbmNlKCkuc3RhZ2UgPSB0aGlzO1xuICAgICAgICBEcmFnSGVscGVyLmdldEluc3RhbmNlKCkuZW5hYmxlRHJhZyh0aGlzLl90YXJnZXRBKTtcbiAgICAgICAgRHJhZ0hlbHBlci5nZXRJbnN0YW5jZSgpLmVuYWJsZURyYWcodGhpcy5fdGFyZ2V0Qik7XG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMuY3JlYXRlVGV4dChcIlRvdWNoIHRvIGRyYWcgYm91bmRpbmcgYm94IHRlc3Rlci5cIik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZW50ZXJGcmFtZUhhbmRsZXIoZGVsdGFUaW1lOiBudW1iZXIpOiB2b2lkIHsgLy8gTWFrZSBzdXJlIGdhbWUgdXBkYXRlIGJlZm9yZSBkcmFnb25Cb25lcyB1cGRhdGUuXG4gICAgICAgIHRoaXMuX2hlbHBQb2ludEEuc2V0KHRoaXMuX3RhcmdldEEueCwgdGhpcy5fdGFyZ2V0QS55KTtcbiAgICAgICAgdGhpcy5faGVscFBvaW50Qi5zZXQodGhpcy5fdGFyZ2V0Qi54LCB0aGlzLl90YXJnZXRCLnkpO1xuICAgICAgICB0aGlzLl9hcm1hdHVyZURpc3BsYXkudG9Mb2NhbCh0aGlzLl9oZWxwUG9pbnRBLCB0aGlzLl9ib3VuZGluZ0JveFRlc3RlciwgdGhpcy5faGVscFBvaW50QSk7XG4gICAgICAgIHRoaXMuX2FybWF0dXJlRGlzcGxheS50b0xvY2FsKHRoaXMuX2hlbHBQb2ludEIsIHRoaXMuX2JvdW5kaW5nQm94VGVzdGVyLCB0aGlzLl9oZWxwUG9pbnRCKTtcblxuICAgICAgICBjb25zdCBjb250YWluc1Nsb3RBID0gdGhpcy5fYXJtYXR1cmVEaXNwbGF5LmFybWF0dXJlLmNvbnRhaW5zUG9pbnQodGhpcy5faGVscFBvaW50QS54LCB0aGlzLl9oZWxwUG9pbnRBLnkpO1xuICAgICAgICBjb25zdCBjb250YWluc1Nsb3RCID0gdGhpcy5fYXJtYXR1cmVEaXNwbGF5LmFybWF0dXJlLmNvbnRhaW5zUG9pbnQodGhpcy5faGVscFBvaW50Qi54LCB0aGlzLl9oZWxwUG9pbnRCLnkpO1xuICAgICAgICBjb25zdCBpbnRlcnNlY3RzU2xvdHMgPSB0aGlzLl9hcm1hdHVyZURpc3BsYXkuYXJtYXR1cmUuaW50ZXJzZWN0c1NlZ21lbnQodGhpcy5faGVscFBvaW50QS54LCB0aGlzLl9oZWxwUG9pbnRBLnksIHRoaXMuX2hlbHBQb2ludEIueCwgdGhpcy5faGVscFBvaW50Qi55LCB0aGlzLl9oZWxwUG9pbnRBLCB0aGlzLl9oZWxwUG9pbnRCLCB0aGlzLl9oZWxwUG9pbnRDKTtcblxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhbmltYXRpb25OYW1lID0gY29udGFpbnNTbG90QSA/IFwiMVwiIDogXCIwXCI7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGFyZ2V0QS5hbmltYXRpb24ubGFzdEFuaW1hdGlvbk5hbWUgIT09IGFuaW1hdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXRBLmFuaW1hdGlvbi5mYWRlSW4oYW5pbWF0aW9uTmFtZSwgMC4yKS5yZXNldFRvUG9zZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uTmFtZSA9IGNvbnRhaW5zU2xvdEIgPyBcIjFcIiA6IFwiMFwiO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RhcmdldEIuYW5pbWF0aW9uLmxhc3RBbmltYXRpb25OYW1lICE9PSBhbmltYXRpb25OYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGFyZ2V0Qi5hbmltYXRpb24uZmFkZUluKGFuaW1hdGlvbk5hbWUsIDAuMikucmVzZXRUb1Bvc2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEEgPSB0aGlzLl90YXJnZXRBLmFybWF0dXJlLnBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRCID0gdGhpcy5fdGFyZ2V0Qi5hcm1hdHVyZS5wYXJlbnQucGFyZW50O1xuICAgICAgICAgICAgY29uc3QgZFggPSB0YXJnZXRCLmdsb2JhbC54IC0gdGFyZ2V0QS5nbG9iYWwueDtcbiAgICAgICAgICAgIGNvbnN0IGRZID0gdGFyZ2V0Qi5nbG9iYWwueSAtIHRhcmdldEEuZ2xvYmFsLnk7XG4gICAgICAgICAgICB0aGlzLl9saW5lLm9mZnNldC54ID0gdGFyZ2V0QS5nbG9iYWwueDtcbiAgICAgICAgICAgIHRoaXMuX2xpbmUub2Zmc2V0LnkgPSB0YXJnZXRBLmdsb2JhbC55O1xuICAgICAgICAgICAgdGhpcy5fbGluZS5vZmZzZXQuc2NhbGVYID0gTWF0aC5zcXJ0KGRYICogZFggKyBkWSAqIGRZKSAvIDEwMC4wO1xuICAgICAgICAgICAgdGhpcy5fbGluZS5vZmZzZXQucm90YXRpb24gPSBNYXRoLmF0YW4yKGRZLCBkWCk7XG4gICAgICAgICAgICB0aGlzLl9saW5lLmludmFsaWRVcGRhdGUoKTtcblxuICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uTmFtZSA9IGludGVyc2VjdHNTbG90cyA/IFwiMVwiIDogXCIwXCI7XG4gICAgICAgICAgICBpZiAodGhpcy5fYm91bmRpbmdCb3hUZXN0ZXIuYW5pbWF0aW9uLmxhc3RBbmltYXRpb25OYW1lICE9PSBhbmltYXRpb25OYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRpbmdCb3hUZXN0ZXIuYW5pbWF0aW9uLmZhZGVJbihhbmltYXRpb25OYW1lLCAwLjIpLnJlc2V0VG9Qb3NlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3RzU2xvdHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZGluZ0JveFRlc3Rlci50b0xvY2FsKHRoaXMuX2hlbHBQb2ludEEsIHRoaXMuX2FybWF0dXJlRGlzcGxheSwgdGhpcy5faGVscFBvaW50QSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRpbmdCb3hUZXN0ZXIudG9Mb2NhbCh0aGlzLl9oZWxwUG9pbnRCLCB0aGlzLl9hcm1hdHVyZURpc3BsYXksIHRoaXMuX2hlbHBQb2ludEIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9pbnRBLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvaW50Qi52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wb2ludEEub2Zmc2V0LnggPSB0aGlzLl9oZWxwUG9pbnRBLng7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9pbnRBLm9mZnNldC55ID0gdGhpcy5faGVscFBvaW50QS55O1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvaW50Qi5vZmZzZXQueCA9IHRoaXMuX2hlbHBQb2ludEIueDtcbiAgICAgICAgICAgICAgICB0aGlzLl9wb2ludEIub2Zmc2V0LnkgPSB0aGlzLl9oZWxwUG9pbnRCLnk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9pbnRBLm9mZnNldC5yb3RhdGlvbiA9IHRoaXMuX2hlbHBQb2ludEMueDtcbiAgICAgICAgICAgICAgICB0aGlzLl9wb2ludEIub2Zmc2V0LnJvdGF0aW9uID0gdGhpcy5faGVscFBvaW50Qy55O1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvaW50QS5pbnZhbGlkVXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9pbnRCLmludmFsaWRVcGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvaW50QS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9pbnRCLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0lBQTBCLCtCQUFRO0lBYTlCO1FBQUEsWUFDSSxpQkFBTyxTQVVWO1FBdkJnQixpQkFBVyxHQUFlLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzNDLGlCQUFXLEdBQWUsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDM0MsaUJBQVcsR0FBZSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQWF4RCxLQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FDaEIseUNBQXlDLEVBQ3pDLHlDQUF5QyxF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